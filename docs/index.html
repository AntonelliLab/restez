<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create and Query a Local Copy of GenBank in R • restez</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create and Query a Local Copy of GenBank in R">
<meta property="og:description" content="Download large sections of GenBank and generate a
    local SQL-based database. A user can then query this database
    using restez functions or through rentrez wrappers.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">restez</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/demonstration_1.html">Demo 1: Search and Fetch</a>
    </li>
    <li>
      <a href="articles/download.html">Intro 1: Download GenBank</a>
    </li>
    <li>
      <a href="articles/entrez.html">Intro 3: Entrez and restez</a>
    </li>
    <li>
      <a href="articles/query.html">Intro 2: Querying with restez</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/AntonelliLab/restez#readme">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- devtools::rmarkdown::render("README.Rmd") -->
<div id="restez" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#restez" class="anchor"></a><a href="https://antonellilab.github.io/restez/index.html">restez</a>
</h1></div>

<p><img src="logo.png" height="300" align="right"></p>
<p><strong>Create and Query a Local Copy of GenBank in R.</strong></p>
<blockquote>
<p>Download parts of <a href="https://www.ncbi.nlm.nih.gov/nuccore">NCBI’s GenBank</a> to a local folder and create a simple SQLite database. Use ‘get’ tools to query the database by accession IDs. <a href="https://github.com/ropensci/rentrez">rentrez</a> wrappers are available, so that if sequences are not available locally they can be searched for online through <a href="https://www.ncbi.nlm.nih.gov/books/NBK25500/">Entrez</a>.</p>
</blockquote>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><em>Vous entrez, vous rentrez et, maintenant, vous …. restez!</em></p>
<p>Downloading sequences and sequence information from GenBank and related NCBI taxonomic databases is often performed via the NCBI API, Entrez. Entrez, however, has a limit on the number of requests and downloading large amounts of sequence data in this way can be inefficient. For programmatic situations where multiple Entrez calls are made, downloading may take days, weeks or even months.</p>
<p>This package aims to make sequence retrieval more efficient by allowing a user to download large sections of the GenBank database to their local machine and query this local database either through package specific functions or Entrez wrappers. This process is more efficient as GenBank downloads are made via NCBI’s FTP using compressed sequence files. With a good internet connection and a middle-of-the-road computer, a database comprising 20 GB of sequence information can be generated in less than 10 minutes.</p>
<p><strong>For more detailed information on the pacakge’s functions and detailed guides on downloading, constructing and querying a database, visit the <a href="https://antonellilab.github.io/restez/index.html">restez website</a>.</strong></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install restez from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"AntonelliLab/restez"</span>)</code></pre></div>
</div>
<div id="quick-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-examples" class="anchor"></a>Quick Examples</h2>
<blockquote>
<p>For more detailed tutorials, visit the <a href="https://antonellilab.github.io/restez/index.html">restez website</a>.</p>
</blockquote>
<div id="setup" class="section level3">
<h3 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(restez)
<span class="co"># choose a location to store GB files</span>
<span class="kw"><a href="reference/restez_path_set.html">restez_path_set</a></span>(<span class="st">'.'</span>)
<span class="co"># run download function</span>
<span class="co"># interactively choose GenBank files to download</span>
<span class="kw"><a href="reference/gb_download.html">gb_download</a></span>()
<span class="co"># create local database</span>
<span class="kw"><a href="reference/db_create.html">db_create</a></span>()</code></pre></div>
</div>
<div id="query" class="section level3">
<h3 class="hasAnchor">
<a href="#query" class="anchor"></a>Query</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(restez)
<span class="co"># set a restez path</span>
<span class="kw"><a href="reference/restez_path_set.html">restez_path_set</a></span>(<span class="st">'.'</span>)
<span class="co"># create a demo database</span>
<span class="kw"><a href="reference/demo_db_create.html">demo_db_create</a></span>(<span class="dt">n =</span> <span class="dv">10</span>)
<span class="co"># contains fake sequence data of 10 records</span>
(all_ids &lt;-<span class="st"> </span><span class="kw"><a href="reference/list_db_ids.html">list_db_ids</a></span>(<span class="dt">db=</span><span class="st">'nucleotide'</span>))
<span class="co"># you can extract:</span>
<span class="co"># sequences</span>
seq &lt;-<span class="st"> </span><span class="kw"><a href="reference/gb_sequence_get.html">gb_sequence_get</a></span>(<span class="st">'demo_1'</span>)[[<span class="dv">1</span>]]
<span class="kw">print</span>(seq)
<span class="co"># definitions</span>
def &lt;-<span class="st"> </span><span class="kw"><a href="reference/gb_definition_get.html">gb_definition_get</a></span>(<span class="st">'demo_1'</span>)[[<span class="dv">1</span>]]
<span class="kw">print</span>(def)
<span class="co"># organisms</span>
org &lt;-<span class="st"> </span><span class="kw"><a href="reference/gb_organism_get.html">gb_organism_get</a></span>(<span class="st">'demo_1'</span>)[[<span class="dv">1</span>]]
<span class="kw">print</span>(org)
<span class="co"># or whole records</span>
rec &lt;-<span class="st"> </span><span class="kw"><a href="reference/gb_record_get.html">gb_record_get</a></span>(<span class="st">'demo_1'</span>)[[<span class="dv">1</span>]]
<span class="kw">cat</span>(rec)</code></pre></div>
</div>
<div id="entrez-wrappers" class="section level3">
<h3 class="hasAnchor">
<a href="#entrez-wrappers" class="anchor"></a>Entrez wrappers</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(restez)
<span class="co"># setup as above</span>
<span class="kw"><a href="reference/restez_path_set.html">restez_path_set</a></span>(<span class="st">'.'</span>)
<span class="kw"><a href="reference/demo_db_create.html">demo_db_create</a></span>()
<span class="co"># use the entrez_* wrappers to access GB data</span>
demo_record &lt;-<span class="st"> </span><span class="kw"><a href="reference/entrez_fetch.html">entrez_fetch</a></span>(<span class="dt">db=</span><span class="st">'nucleotide'</span>, <span class="dt">id=</span><span class="st">'demo_1'</span>, <span class="dt">rettype =</span> <span class="st">'fasta'</span>)
<span class="co"># if the id is not in the local database</span>
<span class="co"># these wrappers will search online via the rentrez package</span>
real_record &lt;-<span class="st"> </span><span class="kw"><a href="reference/entrez_fetch.html">entrez_fetch</a></span>(<span class="dt">db=</span><span class="st">'nucleotide'</span>, <span class="dt">id=</span><span class="st">'S71333.1'</span>, <span class="dt">rettype =</span> <span class="st">'fasta'</span>)</code></pre></div>
</div>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>Want to contribute? Check the <a href="https://antonellilab.github.io/restez/CONTRIBUTING.html">contributing page</a>.</p>
</div>
<div id="licence" class="section level2">
<h2 class="hasAnchor">
<a href="#licence" class="anchor"></a>Licence</h2>
<p>MIT</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Benson, D. A., Karsch-Mizrachi, I., Clark, K., Lipman, D. J., Ostell, J., &amp; Sayers, E. W. (2012). GenBank. <em>Nucleic Acids Research</em>, 40(Database issue), D48–D53. <a href="http://doi.org/10.1093/nar/gkr1202" class="uri">http://doi.org/10.1093/nar/gkr1202</a></p>
<p>Winter DJ. (2017) rentrez: An R package for the NCBI eUtils API. <em>PeerJ Preprints</em> 5:e3179v2 <a href="https://doi.org/10.7287/peerj.preprints.3179v2" class="uri">https://doi.org/10.7287/peerj.preprints.3179v2</a></p>
</div>
<div id="author" class="section level2">
<h2 class="hasAnchor">
<a href="#author" class="anchor"></a>Author</h2>
<p><a href="https://github.com/DomBennett">Dom Bennett</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/AntonelliLab/restez#readme">https://​github.com/​AntonelliLab/​restez#readme</a>
</li>
<li>Report a bug at <br><a href="https://github.com/AntonelliLab/restez/issues">https://​github.com/​AntonelliLab/​restez/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Dom Bennett <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/AntonelliLab/restez"><img src="https://travis-ci.org/AntonelliLab/restez.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://coveralls.io/github/AntonelliLab/restez?branch=master"><img src="https://coveralls.io/repos/github/AntonelliLab/restez/badge.svg?branch=master" alt="Coverage Status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Dom Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
